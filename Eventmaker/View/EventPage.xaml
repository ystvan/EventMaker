<Page
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Eventmaker.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewModel="using:Eventmaker.ViewModel"
    xmlns:Interactivity="using:Microsoft.Xaml.Interactivity" xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
    x:Class="Eventmaker.View.EventPage"
    mc:Ignorable="d">

    <!--This AppBar is like the Navigation Pane in Win10, but this one comes from win 8.1 developement-->

    <Page.BottomAppBar>
        <CommandBar>
            <CommandBar.SecondaryCommands>
                <AppBarButton x:Name="AppBarButton1" Label="Go to Create Event">
                    <Interactivity:Interaction.Behaviors>
                        <Core:EventTriggerBehavior EventName="Click">
                            <Core:NavigateToPageAction TargetPage="EventMaker.View.CreateEventPage"/>
                        </Core:EventTriggerBehavior>
                    </Interactivity:Interaction.Behaviors>
                </AppBarButton>
            </CommandBar.SecondaryCommands>
            <CommandBar.Content>
                <Grid/>
            </CommandBar.Content>
            <AppBarButton Icon="Accept" Label="appbarbutton"/>
            <AppBarButton Icon="Cancel" Label="appbarbutton"/>
        </CommandBar>
    </Page.BottomAppBar>

    
    
    
    <!--Remember to define the DatatContext-->

    <Page.DataContext>
        <viewModel:EventViewModel/>
    </Page.DataContext>

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

        <!--we are using a listview which binding the text properties two way-->  
        <StackPanel Orientation="Vertical">
        <ListView x:Name="EventPagelistView" 
			HorizontalAlignment="Left" 
			Height="449" 
			Margin="10,10,0,0" 
			VerticalAlignment="Top" 
			Width="340" 
            MaxHeight="600"      
			ItemsSource="{Binding EventCatalog.events, Mode=TwoWay}" FontFamily="Magneto">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <StackPanel>
                        <TextBlock Text="{Binding Name, Mode=TwoWay}" FontFamily="Calibri Light"/>
                        <TextBlock Text="{Binding Description, Mode=TwoWay}"/>
                        <TextBlock Text="{Binding Place, Mode=TwoWay}"/>
                        <TextBlock Text="{Binding DateTime, Mode=TwoWay}"/>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        
        <!--DO not forget to add a button to create NEW event and bind the command to it-->
            <Button x:Name="CreateEventButton" Command="{Binding CreateEventCommand}" Margin="10,10,5,5">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Name="NewEventIcon"
                               Text="&#xE710;"
                               FontFamily="Segoe MDL2 Assets"
                               Margin="0,4,5,0"/>
                    <TextBlock Text="Add New"
                               FontFamily="Segoe UI"/>    
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Page>
